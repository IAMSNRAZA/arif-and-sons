<div class="container card">
  <h2>Create a New Order</h2>
  <%= form_for @order do |form| %>
    <div class="form-group">
      <%= form.label :customer_id, "Customer" %>
      <%= form.select :customer_id, options_for_select(Customer.all.map { |customer| [customer.name, customer.id] }), {}, class: "form-control" %>
    </div>

    <div class="form-group">
      <%= form.label :order_items_attributes, "Order Items" %>
      <div id="order-items">
        <%= form.fields_for :order_items do |order_item_form| %>
          <%= render "order_item_fields", form: order_item_form %>
        <% end %>
        <div class="links">
          <%= link_to_add_association "Add Item", form, :order_items, partial: "order_item_fields", locals: { form: form }, class: 'nested_fields_btn btn btn-outline-primary rounded float-right' %>
        </div>
      </div>
    </div>

    <div class="form-group">
      <%= form.label :total %>
      <%= form.number_field :total, class: "form-control", style: 'text-align: right;'%>
    </div>

    <div class="form-row">
      <div class="form-group col-md-6">
        <%= form.label :remaining_amount %>
        <%= form.number_field :remaining_amount, class: "form-control" , disabled: true %>
      </div>

      <div class="form-group col-md-6">
        <%= form.label :payed_amount %>
        <%= form.number_field :payed_amount, class: "form-control" %>
      </div>
    </div>


    <div class="actions float-right">
      <%= form.submit "Create Order", class: "btn btn-primary" %>
    </div>
  <% end %>
</div>
